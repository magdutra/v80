Processing SYS1/SYSThis is a small change to make FILTER/CMD work.  The change forces either an XOR A : RET  or an OR A : RET  depending on the setting of SYSTEM option AG, which enables/disables the BREAK key.  FILTER uses the Carry flag to indicate the success/failure of a search.  If DEVICE has not been installed then the Carry flag may be set even though the search has failed.Model 1Sector number 0Change from:-D0    2806 2A5B 4022 1640 CB6F 21Â° ´µ²² ±³´³ E0    ³ÅÃ³ ²¸°² ³ÅÃ¹ 3212 43                      To:-D0    2806 2A76 4422 1640 CB6F 21¶° ´Á²¸ °²²Å E0    ±·²² ±³´³ ³ÅÃ³ 3212 43                      Models 3/4/4P (including HardDisk version 2.5)Sector number 0Change from:-D0    2806 2A76 4422 1640 CB6F 21´¶ ´µ²² ·¹´´ E0    ³ÅÃ³ ²¸°² ³ÅÃ¹ 3278 44                      To:-D0    2806 2A76 4422 1640 CB6F 21ÆÅ ´·²¸ °²²Å E0    ¸·²² ·¹´´ ³ÅÃ³ 3278 44                      Processing DEVICE/CMDThis change is required to allow FILTER/CMD to function correctly.  The search routine didn't function correctly under some circumstances.Sector number 3Change from:-60    0D       70    237E B7C8 BA23 7E23 23²³ ²°Æ² ÂÂ²° ÅÆ5E To:-60    3D  70    237E B7C8 BA23 7E23 23²° Æ³ÂÂ ²°Æ° ²³5E Processing SYS14/SYSThis change is required to allow FILTER/CMD to function correctly.  The search routine for a specified *ab name didn't function correctly under some circumstances.Sector number 0Change from:-20    0DCA AE4E 0DCA ³Á´Æ 3E2A C9AF D901 03F0 To:-20    0DCA AE4E 0DCA Ä¸µ± 3E2A C9AF D901 03F0 Sector number 4Change from:-D0    5100 0000 0000 0000 0000 0000 4FE1 7CB5 To:-D0    5100 0000 D5CD 614D D1C3 3A4F 4FE1 7CB5 The following zap is to fix a problem in INSTR(!, thebit-map testing routine.  Processing SYS26/SYSSector number 0Change from:-D0    0123 2929 29C5 0600 09C1 EBD5 ±Å°¸ ·Å²¸ E0    °·1F 1C17 1D0D 20FB 4843 D1A9 1730 0E13 To:-D0    0123 2929 29C5 0600 09C1 EBD5 ÃÄÄÃ ¶Å°° E0    °°1F 1C17 1D0D 20FB 4843 D1A9 1730 0E13 Sector number 4Change from:-F0    0000 0000 0000 0000 0000 0033 0202 006A To:-F0    ±Å°¸ ·ÅÃ° °Å°¸ Ã¹00 0000 0033 0202 006A Processing VID/CMDThis zap causes VID to handle the reverse character on/off codes CHR$(16,17,18) in the same fashion as the TRSDOS6 video driver.  When the reverse video mode is selected in the Model 4/4P all characters having bit 7 set are displayed in reverse.A CHR$(16) puts the Model 4 into reverse video mode (sets bit 3 of 4CFDH - the Port 84H storage byte) and also stores a CHR$(160) in 4CFEH (this indicates a reversed space character).  When bit 7 of 4CFEH is set, VID automatically causes bit 7 of every character printed to be set, giving reverse mode.The problem with the CHR$(17) code was that the driver was resetting the reverse video mode as well as resetting bit 7 of 4CFEH.  This had the unfortunate effect of changing all of the previous 'reversed' characters into graphics/alternate video character set.After this zap has been applied, printing a CHR$(28) will turn off reverse mode and restore the graphic mode of video operation.  Printing a CHR$(18) is equivalent to printing CHR$(16)+CHR$(17).Note that once reverse video mode has been activated, you can print selected characters in reverse by setting bit 7 of the character.Sector number 1Change from:-00    4472 6976 0102 004E 6572 2034 2E34 ²°20 To:-00    4472 6976 0102 004E 6572 2034 2E34 ¶±20 Sector number 5Change from:-70    6572 7369 6F6E 2034 2E34 ²°20 666F 7220 To:-70    6572 7369 6F6E 2034 2E34 ¶±20 666F 7220 Sector number 8Change from:-C0    3DCA D104 3D06 A028 C53D CBB8 28Ã¸ 3D28 To:-C0    3DCA D104 3D06 A028 C53D CBB8 28ÃÃ 3D28 Processing SYS24/SYSThis fixes a problem with the TRSDOS parser.  As an example:-   filename,FIXALL=Ywould be accepted happily as would:-   filename,FIXALLwhere the =Yes is assumed.  And FIX=Y would work ok.  However just FIX returns an error.Sector number 0Change from:-30    0606 CDCF 4D²Â D1E3 CCFE 4DE1 2802 D1C9 To:-30    0606 CDCF 4D°° D1E3 CCFE 4DE1 2802 D1C9 Change from:-E0    18FE 2828 14²³ ÃÄ²Å ´Å³¸ °Å05 2808 12AF To:-E0    18FE 2828 14ÃÄ ²Å´Å ³¸°Æ ²³05 2808 12AF A couple of notes on the format of the zaps.  The actualbytes to change are underlined.  To do the zaps I suggestthat you use the following method:-     Reset all the update flags with a PROT,:x,RUF     Apply all the patches to the disk on drive :x     Set the datestamp of the changed file with a     NEWDATE :x,=07/13/88 i s uAfter making certain that there are no problems with thezaps, copy over the changes to your other SYSTEM disks by     COPY :x,:y,,CBF,NFMT,DFO,UPD