ÓBUFORD°°°±° ;	buford°°°²° 	ORG	7000H°°°³° 	LD	HL,(4049H)	;get topmem°°°´° 	LD	BC,LAST-FIRST	;length°°°µ° 	OR	A°°°¶° 	SBC	HL,BC		;get length°°°·° 	PUSH	HL		;save it°°°¸° 	DEC	HL		;reduce by 1°°°¹° 	LD	(4049H),HL	;save new topmem°°±°° 	LD	DE,-50		;set clear 50°°±±° 	ADD	HL,DE°°±²° 	LD	(40A0H),HL	;save string pointer°°±³° 	POP	DE		;get where to move to°°±´° 	LD	HL,POUT		;where driver is°°±µ° 	PUSH	BC		;save length°°±¶° 	PUSH	DE		;save dest°°±·° 	PUSH	HL		;save start°°±¸° 	EX	DE,HL°°±¹° 	OR	A°°²°° 	SBC	HL,DE°°²±° 	EX	DE,HL°°²²° 	LD	HL,(PASS1)°°²³° 	ADD	HL,DE°°²´° 	LD	(PASS1),HL	;pass to program°°²µ° 	LD	HL,(PASS2)°°²¶° 	ADD	HL,DE°°²·° 	LD	(PASS2),HL°°²¸° 	LD	HL,(PASS3)°°²¹° 	ADD	HL,DE°°³°° 	LD	(PASS3),HL°°³±° 	LD	HL,(PASS4)°°³²° 	ADD	HL,DE°°³³° 	LD	(PASS4),HL°°³´° 	LD	HL,POUT°°³µ° 	ADD	HL,DE°°³¶° 	LD	(4026H),HL°°³·° 	LD	HL,MESG°°³¸° 	CALL	4467H°°³¹° 	LD	C,20H°°´°° 	LD	B,25°°´±° LOOP	CALL	POUT°°´²° 	DJNZ	LOOP°°´³° 	LD	C,27°°´´° 	CALL	POUT°°´µ° 	LD	C,'M'°°´¶° 	CALL	POUT°°´·° 	POP	HL°°´¸° 	POP	DE°°´¹° 	POP	BC°°µ°° 	LDIR°°µ±° 	RET°°µ²° MESG	DB	10,'NEC Parallel Printer Driver by Kim Watt',13°°µ³° FIRST	DB	0°°µ´° POUT	LD	A,(37E8H)°°µµ° 	AND	0C0H°°µ¶° 	JR	NZ,POUT°°µ·° 	LD	A,C°°µ¸° 	CP	0FFH°°µ¹° 	CALL	Z,CENTER°°¶°° PASS1	EQU	$-2°°¶±° 	LD	(37E8H),A°°¶²° 	RET°°¶³° CENTER	LD	C,27°°¶´° 	CALL	POUT°°¶µ° PASS2	EQU	$-2°°¶¶° 	LD	C,'R'°°¶·° 	CALL	POUT°°¶¸° PASS3	EQU	$-2°°¶¹° 	LD	C,'C'°°·°° 	CALL	POUT°°·±° PASS4	EQU	$-2°°·²° 	PUSH	BC°°·³° 	LD	BC,0°°·´° 	CALL	60H°°·µ° 	LD	A,0FFH°°·¶° 	LD	(37E8H),A°°··° 	CALL	60H°°·¸° 	POP	BC°°·¹° 	LD	A,13°°¸°° 	RET°°¸±° LAST	DB	0°°¸²° 	END	7000H